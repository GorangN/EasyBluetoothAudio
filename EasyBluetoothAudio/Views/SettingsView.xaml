<UserControl x:Class="EasyBluetoothAudio.Views.SettingsView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:models="clr-namespace:EasyBluetoothAudio.Models">

    <DockPanel>

        <!-- Header -->
        <Grid DockPanel.Dock="Top" Margin="0,0,0,12">
            <StackPanel Orientation="Horizontal">
                <Border Background="{DynamicResource AcidYellowBrush}" Width="4" Height="24" Margin="0,0,10,0"/>
                <TextBlock Text="SETTINGS"
                           Foreground="{DynamicResource TextWhiteBrush}"
                           FontSize="18" FontWeight="Bold"
                           VerticalAlignment="Center"
                           FontFamily="Consolas"/>
            </StackPanel>

            <Button Content="&#xE711;"
                    ToolTip="Close Settings"
                    Command="{Binding SettingsViewModel.CloseCommand}"
                    Style="{StaticResource IconButtonStyle}"
                    HorizontalAlignment="Right"/>
        </Grid>

        <!-- Scrollable Settings Content -->
        <ScrollViewer VerticalScrollBarVisibility="Auto"
                      HorizontalScrollBarVisibility="Disabled">
            <StackPanel>

                <!-- ═══════════════════════════════════════════════════════
                     SECTION 1: SYSTEM
                     ═══════════════════════════════════════════════════════ -->
                <Border BorderBrush="{DynamicResource SectionBorderBrush}"
                        BorderThickness="1" CornerRadius="6"
                        Padding="14,10" Margin="0,0,0,10"
                        Background="{DynamicResource SurfaceBrush}">
                    <StackPanel>
                        <TextBlock Text="SYSTEM"
                                   Foreground="{DynamicResource AcidYellowBrush}"
                                   FontFamily="Consolas" FontSize="11" FontWeight="Bold"
                                   Margin="0,0,0,8"/>

                        <!-- Autostart -->
                        <CheckBox Style="{StaticResource SettingsCheckBoxStyle}"
                                  IsChecked="{Binding SettingsViewModel.AutoStartOnStartup}"
                                  Margin="0,0,0,8">
                            <TextBlock FontFamily="Consolas" FontSize="13"
                                       Foreground="{DynamicResource TextWhiteBrush}"
                                       Text="AUTOSTART ON STARTUP"/>
                        </CheckBox>

                        <!-- Theme Mode -->
                        <DockPanel Margin="0,0,0,2">
                            <TextBlock Text="THEME"
                                       FontFamily="Consolas" FontSize="13"
                                       Foreground="{DynamicResource TextWhiteBrush}"
                                       VerticalAlignment="Center"
                                       Margin="0,0,12,0"/>
                            <ComboBox Style="{StaticResource SettingsComboBoxStyle}"
                                      ItemContainerStyle="{StaticResource SettingsComboBoxItemStyle}"
                                      ItemsSource="{Binding SettingsViewModel.ThemeModes}"
                                      SelectedItem="{Binding SettingsViewModel.ThemeMode}"/>
                        </DockPanel>
                    </StackPanel>
                </Border>

                <!-- ═══════════════════════════════════════════════════════
                     SECTION 2: VERBINDUNG
                     ═══════════════════════════════════════════════════════ -->
                <Border BorderBrush="{DynamicResource SectionBorderBrush}"
                        BorderThickness="1" CornerRadius="6"
                        Padding="14,10" Margin="0,0,0,10"
                        Background="{DynamicResource SurfaceBrush}">
                    <StackPanel>
                        <TextBlock Text="CONNECTION"
                                   Foreground="{DynamicResource AcidYellowBrush}"
                                   FontFamily="Consolas" FontSize="11" FontWeight="Bold"
                                   Margin="0,0,0,8"/>

                        <!-- Auto-Connect -->
                        <CheckBox Style="{StaticResource SettingsCheckBoxStyle}"
                                  IsChecked="{Binding SettingsViewModel.AutoConnect}"
                                  Margin="0,0,0,8">
                            <TextBlock FontFamily="Consolas" FontSize="13"
                                       Foreground="{DynamicResource TextWhiteBrush}"
                                       Text="AUTO-CONNECT ON STARTUP"/>
                        </CheckBox>

                        <!-- Reconnect Timeout -->
                        <DockPanel Margin="0,0,0,2">
                            <TextBlock Text="RECONNECT"
                                       FontFamily="Consolas" FontSize="13"
                                       Foreground="{DynamicResource TextWhiteBrush}"
                                       VerticalAlignment="Center"
                                       Margin="0,0,12,0"/>
                            <ComboBox Style="{StaticResource SettingsComboBoxStyle}"
                                      ItemContainerStyle="{StaticResource SettingsComboBoxItemStyle}"
                                      ItemsSource="{Binding SettingsViewModel.ReconnectTimeouts}"
                                      SelectedItem="{Binding SettingsViewModel.ReconnectTimeout}"/>
                        </DockPanel>
                    </StackPanel>
                </Border>

                <!-- ═══════════════════════════════════════════════════════
                     SECTION 3: BENACHRICHTIGUNGEN & SOUND
                     ═══════════════════════════════════════════════════════ -->
                <Border BorderBrush="{DynamicResource SectionBorderBrush}"
                        BorderThickness="1" CornerRadius="6"
                        Padding="14,10"
                        Background="{DynamicResource SurfaceBrush}">
                    <StackPanel>
                        <TextBlock Text="NOTIFICATIONS &amp; SOUND"
                                   Foreground="{DynamicResource AcidYellowBrush}"
                                   FontFamily="Consolas" FontSize="11" FontWeight="Bold"
                                   Margin="0,0,0,8"/>

                        <!-- Show Notifications -->
                        <CheckBox Style="{StaticResource SettingsCheckBoxStyle}"
                                  IsChecked="{Binding SettingsViewModel.ShowNotifications}"
                                  Margin="0,0,0,6">
                            <TextBlock FontFamily="Consolas" FontSize="13"
                                       Foreground="{DynamicResource TextWhiteBrush}"
                                       Text="SHOW NOTIFICATIONS"/>
                        </CheckBox>

                        <!-- Play Connection Sound -->
                        <CheckBox Style="{StaticResource SettingsCheckBoxStyle}"
                                  IsChecked="{Binding SettingsViewModel.PlayConnectionSound}">
                            <TextBlock FontFamily="Consolas" FontSize="13"
                                       Foreground="{DynamicResource TextWhiteBrush}"
                                       Text="PLAY CONNECTION SOUND"/>
                        </CheckBox>
                    </StackPanel>
                </Border>

            </StackPanel>
        </ScrollViewer>
    </DockPanel>
</UserControl>
